@use "sass:map";

// =============================================================================
// 반응형 믹스인 정의
// =============================================================================

// =============================================================================
// 브레이크포인트 변수
// =============================================================================

// 모바일 우선 접근법
$breakpoints: (
    'xs': 320px,    // 작은 모바일
    'sm': 576px,    // 모바일
    'md': 768px,    // 태블릿
    'lg': 992px,    // 작은 데스크톱
    'xl': 1200px,   // 데스크톱
    'xxl': 1400px   // 큰 데스크톱
);

// =============================================================================
// 미디어 쿼리 믹스인
// =============================================================================

/**
 * 최소 너비 미디어 쿼리 믹스인
 * @param {string} $breakpoint - 브레이크포인트 이름 (xs, sm, md, lg, xl, xxl)
 * 
 * 사용법: @include min-width(md) { ... }
 */
@mixin min-width($breakpoint) {
    @if map.has-key($breakpoints, $breakpoint) {
        @media (min-width: map.get($breakpoints, $breakpoint)) {
            @content;
        }
    } @else {
        @warn "브레이크포인트 '#{$breakpoint}'를 찾을 수 없습니다.";
    }
}

/**
 * 최대 너비 미디어 쿼리 믹스인
 * @param {string} $breakpoint - 브레이크포인트 이름
 * 
 * 사용법: @include max-width(md) { ... }
 */
@mixin max-width($breakpoint) {
    @if map.has-key($breakpoints, $breakpoint) {
        @media (max-width: (map.get($breakpoints, $breakpoint) - 1px)) {
            @content;
        }
    } @else {
        @warn "브레이크포인트 '#{$breakpoint}'를 찾을 수 없습니다.";
    }
}

/**
 * 범위 미디어 쿼리 믹스인
 * @param {string} $min - 최소 브레이크포인트
 * @param {string} $max - 최대 브레이크포인트
 * 
 * 사용법: @include between(md, lg) { ... }
 */
@mixin between($min, $max) {
    @if map.has-key($breakpoints, $min) and map.has-key($breakpoints, $max) {
        @media (min-width: map.get($breakpoints, $min)) and (max-width: (map.get($breakpoints, $max) - 1px)) {
            @content;
        }
    } @else {
        @warn "브레이크포인트를 찾을 수 없습니다.";
    }
}

// =============================================================================
// 디바이스별 믹스인
// =============================================================================

/**
 * 모바일 전용 스타일
 * @param {string} $max-width - 최대 너비 (기본값: sm)
 * 
 * 사용법: @include mobile { ... }
 */
@mixin mobile($max-width: sm) {
    @include max-width($max-width) {
        @content;
    }
}

/**
 * 태블릿 전용 스타일
 * 
 * 사용법: @include tablet { ... }
 */
@mixin tablet {
    @include between(md, lg) {
        @content;
    }
}

/**
 * 데스크톱 전용 스타일
 * 
 * 사용법: @include desktop { ... }
 */
@mixin desktop {
    @include min-width(lg) {
        @content;
    }
}